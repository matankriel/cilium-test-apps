# Docker Registry Configuration for Disconnected Environments

This file documents all places where registry configuration is needed for disconnected environments.

## Configuration Points

### 1. Helm Values File
**File:** `helm/cilium-test-apps/values.yaml`
- **Line 6:** `global.imageRegistry` - Set to your Artifactory URL
- **Line 7:** `global.imagePullPolicy` - Configure pull policy
- **Line 30:** `database.image.repository` - Base image repository
- **Line 60:** `backend.image.repository` - Application image repository
- **Line 93:** `frontend.image.repository` - Application image repository
- **Line 122:** `errorGenerator.image.repository` - Application image repository
- **Line 148:** `loggingService.image.repository` - Application image repository
- **Line 174:** `trafficGenerator.image.repository` - Base image repository

### 2. Dockerfiles
**Files:**
- `frontend/Dockerfile` - Line 1: Node.js base image
- `backend/Dockerfile` - Line 1: Python base image
- `error-generator/Dockerfile` - Lines 1 & 8: Golang and Alpine base images
- `logging-service/Dockerfile` - Line 1: Node.js base image

**Action:** Either update FROM statements with full registry paths OR configure Docker daemon registry mirror.

### 3. Build Script
**File:** `build-images.sh`
- **Line 18:** `DEFAULT_REGISTRY` - Set default registry for disconnected environments

### 4. Deployment Script
**File:** `deploy.sh`
- Use `--registry` flag with your Artifactory URL when building images

## Quick Reference

### Artifactory URL Format
```
artifactory.yourcompany.local/docker
```

### GitLab Registry URL Format
```
registry.gitlab.yourcompany.local/group/project
```

### Example Configuration
```yaml
global:
  imageRegistry: "artifactory.yourcompany.local/docker"
```

All images will be prefixed with this registry automatically when using Helm.

